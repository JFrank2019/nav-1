{"version":3,"sources":["main.js"],"names":["$siteList","$","$lastLi","find","$dialogMask","$modifyNameInput","$modifyUrlInput","history","JSON","parse","localStorage","getItem","isInputFocus","modifyObj","hashMapActiveIndex","hashMap","logo","url","modified","simplyUrl","replace","render","remove","forEach","node","index","name","$li","insertBefore","on","window","open","e","stopPropagation","show","val","resetModifyObj","undefined","Array","from","document","getElementsByTagName","input","focus","blur","prompt","indexOf","push","logoType","hide","splice","key","i","length","toLowerCase","onbeforeunload","setItem","stringify"],"mappings":"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","file":"main.bd46cc31.js","sourceRoot":"..\\src","sourcesContent":["const $siteList = $('.siteList')\r\nconst $lastLi = $siteList.find('li.last')\r\nconst $dialogMask = $('.dialog-mask')\r\nconst $modifyNameInput = $('.modify_name_input')\r\nconst $modifyUrlInput = $('.modify_url_input')\r\n\r\nconst history = JSON.parse(localStorage.getItem('history'))\r\n\r\n// 判断输入框是否获取了焦点\r\nlet isInputFocus = false\r\nlet modifyObj = null\r\nlet hashMapActiveIndex\r\n\r\nconst hashMap = history || [\r\n  { logo: 'V', url: 'https://cn.vuejs.org/', modified: false },\r\n  { logo: 'R', url: 'https://react.docschina.org/', modified: false },\r\n  { logo: 'J', url: 'https://jquery.cuishifeng.cn/', modified: false }\r\n]\r\n\r\nconst simplyUrl = url => {\r\n  return url.replace('https://', '').replace('http://', '').replace('www.', '').replace(/\\/.*/, '') // 删除 / 开头的内容\r\n}\r\n\r\nconst render = () => {\r\n  $siteList.find('li:not(.last)').remove()\r\n  hashMap.forEach((node, index) => {\r\n    node.name = node.modified ? node.name : simplyUrl(node.url)\r\n    let $li\r\n    if (node.modified) {\r\n      $li = $(`\r\n        <li>\r\n          <div class=\"site\">\r\n            <div class=\"logo\">${node.logo}</div>\r\n            <div class=\"link\">${node.name}</div>\r\n            <div class=\"point\">\r\n              <svg class=\"icon\" aria-hidden=\"true\">\r\n                <use xlink:href=\"#icon-point\"></use>\r\n              </svg>\r\n            </div>\r\n          </div>\r\n        </li>\r\n      `).insertBefore($lastLi)\r\n    } else {\r\n      $li = $(`\r\n        <li>\r\n          <div class=\"site\">\r\n            <div class=\"logo\">${node.logo}</div>\r\n            <div class=\"link\">${simplyUrl(node.url)}</div>\r\n            <div class=\"point\">\r\n              <svg class=\"icon\" aria-hidden=\"true\">\r\n                <use xlink:href=\"#icon-point\"></use>\r\n              </svg>\r\n            </div>\r\n          </div>\r\n        </li>\r\n      `).insertBefore($lastLi)\r\n    }\r\n    $li.on('click', () => {\r\n      window.open(node.url)\r\n    })\r\n    $li.on('click', '.point', e => {\r\n      e.stopPropagation()\r\n      // 保存索引\r\n      hashMapActiveIndex = index\r\n      $dialogMask.show()\r\n      modifyObj = {\r\n        logo: hashMap[index].logo,\r\n        url: hashMap[index].url,\r\n        name: hashMap[index].name,\r\n        modified: false\r\n      }\r\n      $modifyNameInput.val(hashMap[index].name)\r\n      $modifyUrlInput.val(hashMap[index].url)\r\n    })\r\n  })\r\n}\r\n\r\n// 重置中间变量\r\nconst resetModifyObj = () => {\r\n  modifyObj = null\r\n  hashMapActiveIndex = undefined\r\n}\r\n\r\nrender()\r\n\r\n// 存储输入框获取焦点的状态\r\nArray.from(document.getElementsByTagName('input')).forEach(input => {\r\n  $(input).focus(() => (isInputFocus = true))\r\n  $(input).blur(() => (isInputFocus = false))\r\n})\r\n\r\n$('.addButton').on('click', () => {\r\n  let url = window.prompt('请问你要输入的网址是什么')\r\n  if (!url) return\r\n  if (url.indexOf('http') !== 0) {\r\n    url = 'https://' + url\r\n  }\r\n  hashMap.push({\r\n    logo: simplyUrl(url)[0],\r\n    logoType: 'text',\r\n    url: url\r\n  })\r\n  render()\r\n})\r\n\r\n$modifyNameInput.on('change', e => {\r\n  modifyObj.name = $modifyNameInput.val()\r\n  modifyObj.modified = true\r\n})\r\n\r\n$modifyUrlInput.on('change', e => {\r\n  modifyObj.logo = simplyUrl($modifyUrlInput.val())[0]\r\n  let url = $modifyUrlInput.val()\r\n  if (url.indexOf('http') !== 0) {\r\n    url = 'https://' + url\r\n  }\r\n  modifyObj.url = url\r\n  modifyObj.modified = true\r\n})\r\n\r\n$('.cancel').on('click', () => {\r\n  $dialogMask.hide('fast')\r\n  resetModifyObj()\r\n})\r\n$('.remove').on('click', () => {\r\n  hashMap.splice(hashMapActiveIndex, 1)\r\n  $dialogMask.hide('fast')\r\n  resetModifyObj()\r\n  render()\r\n})\r\n$('.complete').on('click', () => {\r\n  hashMap.splice(hashMapActiveIndex, 1, modifyObj)\r\n  $dialogMask.hide('fast')\r\n  resetModifyObj()\r\n  render()\r\n})\r\n\r\n$(document).on('keypress', e => {\r\n  const { key } = e\r\n  for (let i = 0; i < hashMap.length; i++) {\r\n    if (hashMap[i].logo.toLowerCase() === key && !isInputFocus) {\r\n      window.open(hashMap[i].url)\r\n    }\r\n  }\r\n})\r\n\r\nwindow.onbeforeunload = () => {\r\n  localStorage.setItem('history', JSON.stringify(hashMap))\r\n}\r\n"]}